<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/jpeg" href="School.jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facilities - KUYILAPPALAYAM School</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .editable-hover:hover {
            background-color: #eff6ff;
            cursor: pointer;
            outline: 2px dashed #3b82f6;
        }
        .edit-icon {
            display: none;
        }
        .admin-mode .edit-icon {
            display: block;
        }
        .image-container {
            position: relative;
        }
        .image-container:hover .edit-icon {
            opacity: 1;
        }
    </style>

    <!-- ‚úÖ MongoDB API Connection -->
    <script src="db.js"></script>
    <script>
        const API_URL = 'http://localhost:5000';
    </script>
</head>
<body class="bg-gray-50">
    <!-- Admin Panel (secret keyword: type "School" anywhere on the page) -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-end gap-2">
        <button id="adminBtn" class="hidden"></button>
        <div id="adminPanel" class="hidden flex gap-2">
            <button id="saveBtn" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold shadow-lg transition-all flex items-center gap-2">
                üíæ Save Changes
            </button>
            <button id="logoutBtn" class="px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold shadow-lg transition-all flex items-center gap-2">
                üö™ Logout
            </button>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Admin Login</h2>
                <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button>
            </div>
            <form id="loginForm">
                <div class="mb-4">
                    <label class="block text-gray-700 font-semibold mb-2">Password</label>
                    <input type="password" id="passwordInput" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" placeholder="Enter admin password">
                    <p id="errorMsg" class="text-red-500 text-sm mt-2 hidden"></p>
                    <p class="text-gray-500 text-xs mt-2">Demo password: admin123</p>
                </div>
                <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-lg transition-colors">
                    Login
                </button>
            </form>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-3 flex items-center gap-3">
            <div class="w-16 h-16 md:w-20 md:h-20 bg-white rounded-full flex-shrink-0 flex items-center justify-center overflow-hidden">
                <img src="School_logo.jpg" alt="School Logo" class="w-full h-full object-contain">
            </div>
            <div class="flex-1 min-w-0">
                <h1 id="schoolName" class="text-lg md:text-2xl font-bold leading-tight">KUYILAPPALAYAM SCHOOL</h1>
                <p id="affiliation" class="text-xs md:text-sm opacity-90 leading-snug mt-0.5">Affiliated to Central Board of Secondary Education - New Delhi | Affiliation No.930011</p>
            </div>
            <!-- Hamburger Button (mobile only) -->
            <button id="menuToggle" class="md:hidden flex-shrink-0 ml-2 p-2 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none" onclick="toggleMenu()" aria-label="Toggle menu">
                <div id="hamburgerIcon" class="flex flex-col gap-1.5">
                    <span class="block w-6 h-0.5 bg-white transition-all duration-300"></span>
                    <span class="block w-6 h-0.5 bg-white transition-all duration-300"></span>
                    <span class="block w-6 h-0.5 bg-white transition-all duration-300"></span>
                </div>
            </button>
        </div>
        
        <nav class="bg-blue-700">
            <div class="container mx-auto px-4">
                <!-- Desktop nav -->
                <ul class="hidden md:flex gap-1 text-sm font-semibold">
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='school-website.html'">HOME</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='about-us.html'">ABOUT US</li>
                    <li class="py-3 bg-blue-800 px-3 cursor-pointer transition-colors">FACILITIES</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='galleries.html'">GALLERIES</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='career.html'">CAREER</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='admission.html'">ADMISSION</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='contact-us.html'">CONTACT US</li>
                </ul>
                <!-- Mobile nav -->
                <ul id="mobileMenu" class="md:hidden hidden flex-col text-sm font-semibold pb-2">
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors border-b border-blue-600" onclick="window.location.href='school-website.html'">HOME</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors border-b border-blue-600" onclick="window.location.href='about-us.html'">ABOUT US</li>
                    <li class="py-3 bg-blue-800 px-3 cursor-pointer transition-colors border-b border-blue-600">FACILITIES</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors border-b border-blue-600" onclick="window.location.href='galleries.html'">GALLERIES</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors border-b border-blue-600" onclick="window.location.href='career.html'">CAREER</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors border-b border-blue-600" onclick="window.location.href='admission.html'">ADMISSION</li>
                    <li class="py-3 hover:bg-blue-800 px-3 cursor-pointer transition-colors" onclick="window.location.href='contact-us.html'">CONTACT US</li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Breadcrumb -->
    <div class="bg-white border-b">
        <div class="container mx-auto px-4 py-3">
            <p class="text-sm text-gray-600">
                <span class="text-blue-500 cursor-pointer hover:underline" onclick="window.location.href='school-website.html'">Home</span> 
                <span class="mx-2">></span> 
                <span class="text-gray-800 font-semibold">Facilities</span>
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-12">
        <h1 class="text-4xl font-bold text-gray-800 mb-8">Our Facilities</h1>

        <!-- Digital Library -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="libraryMainImage" src="https://images.unsplash.com/photo-1521587760476-6c12a4b040da?w=1200&h=500&fit=crop" alt="Digital Library" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('libraryMainImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">‚ñ∂</span>
                        </div>
                        <span id="libraryMainLabel" class="text-2xl font-bold editable">DIGITAL LIBRARY</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="libraryTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Digital Library</h2>
                <p id="libraryDesc1" class="text-gray-700 mb-4 leading-relaxed editable">Our air-conditioned Library is well equipped with a variety of books for the seekers of knowledge. Right from lay-readers, EFL (Language) conscious has been drawing the development of library. The School e-course home ATLAS (Atlas Ebooks for course titles and info internet forums, encyclopedias are to be Explored). Just by making a click, users can access any information in the world.</p>
                <p id="libraryDesc2" class="text-gray-700 leading-relaxed editable">Most of them we send publications. A special community feature of the library is the circulation of it. Has facility of stationary, books, (Social books, Text Books, Culture book) & Lib. Misceellance in Competitive books like Bank, SSC, Railways, general, TNPSC and UPSC.</p>
            </div>

            <!-- Library Gallery -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 px-8 pb-8">
                <div class="image-container">
                    <img id="libraryGallery1" src="https://images.unsplash.com/photo-1521587760476-6c12a4b040da?w=400&h=300&fit=crop" alt="Library" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('libraryGallery1')">üì∑</button>
                </div>
                <div class="image-container">
                    <img id="libraryGallery2" src="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=400&h=300&fit=crop" alt="Library" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('libraryGallery2')">üì∑</button>
                </div>
                <div class="image-container">
                    <img id="libraryGallery3" src="https://images.unsplash.com/photo-1507842217343-583bb7270b66?w=400&h=300&fit=crop" alt="Library" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('libraryGallery3')">üì∑</button>
                </div>
                <div class="image-container">
                    <img id="libraryGallery4" src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400&h=300&fit=crop" alt="Library" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('libraryGallery4')">üì∑</button>
                </div>
            </div>
        </div>

        <!-- Smart Class / Smart Room -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="smartClassImage" src="https://images.unsplash.com/photo-1509062522246-3755977927d7?w=1200&h=500&fit=crop" alt="Smart Class" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('smartClassImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">‚ñ∂</span>
                        </div>
                        <span id="smartClassLabel" class="text-2xl font-bold editable">TATA EDGE SMART CLASS</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="smartClassTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Smart Class</h2>
                <p id="smartClassDesc1" class="text-gray-700 mb-4 leading-relaxed editable">Tata Class Edge is an innovative and comprehensive educational solution of Tata Interactive Systems. The usage, characteristics of our classrooms are very much comfortable to accommodate all students' interest.</p>
                <p id="smartClassDesc2" class="text-gray-700 leading-relaxed editable">We incorporate language encouraged, Apt creativity. Each classroom is well equipped with requisite teaching aids and materials like, digital boards, over head projector, Charts are setup as their required grade wise activity materials. In addition, adhering to the global education paradigm, though in appendices, the A.V learning aspect is provided for making use of the nature center. Social Science with its seminar and overviews of the real resources.</p>
            </div>
        </div>

        <!-- Laboratory -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="labImage" src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?w=1200&h=500&fit=crop" alt="Laboratory" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('labImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">‚ñ∂</span>
                        </div>
                        <span id="labLabel" class="text-2xl font-bold editable">INTEGRATED ROBOTICS & SCIENCE LABS</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="labTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Laboratory</h2>
                <p id="labDesc" class="text-gray-700 leading-relaxed editable">Planning to meet the science to discover for practical oversight i.wage classroom of education, we have taken steps ready to settle our aspirations with a flavor of the set of teaching technology. The Physics, Chemistry, Biology, and Computer labs are being well-maintained, which uphold the scientific mindset and of the students. Integrated Robotics lab acquired the students' curiosity with active Participant on it.</p>
            </div>
        </div>

        <!-- Sports Facilities -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="sportsImage" src="https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=1200&h=500&fit=crop" alt="Sports" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('sportsImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">‚öΩ</span>
                        </div>
                        <span id="sportsLabel" class="text-2xl font-bold editable">SPORTS FACILITIES</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="sportsTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Sports Facilities</h2>
                <p id="sportsDesc" class="text-gray-700 leading-relaxed editable">Physical Education finds a prime place in the curriculum since it plays a vital role in a holistic education. Our school provides excellent sports facilities including basketball, volleyball, cricket, football, and athletics. We encourage students to participate in various sports activities to develop physical fitness, teamwork, and leadership skills.</p>
            </div>
        </div>

        <!-- Awards & Achievements -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="awardsImage" src="https://images.unsplash.com/photo-1569705460033-cfaa4bf9f822?w=1200&h=500&fit=crop" alt="Awards" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('awardsImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">üèÜ</span>
                        </div>
                        <span id="awardsLabel" class="text-2xl font-bold editable">AWARDS & ACHIEVEMENTS</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="awardsTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Awards & Achievements</h2>
                <p id="awardsDesc" class="text-gray-700 leading-relaxed editable">Awards‚Äîan innovative and comprehensive educational solution of Tata Interactive Systems. Our students consistently excel in academics, sports, and co-curricular activities, bringing laurels to the institution. We take pride in nurturing talent and celebrating every achievement of our students.</p>
            </div>
        </div>

        <!-- Extra Curricular Activities -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-8 mb-4">
                <h2 id="extraCurricularTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Extra Curricular Activities</h2>
                <p id="extraCurricularDesc1" class="text-gray-700 mb-4 leading-relaxed editable">Pupils are encouraged to participate in extra-curricular activities in the School Such as an essential aspect of their physical activities and accustomed to in the studies. Both of these activities, awareness in the total, a child should live in multi-dimensional life.</p>
                <p id="extraCurricularDesc2" class="text-gray-700 leading-relaxed editable">The academic arena are globalize of it and Family come one as adult Henary chronogm acadonomic awareness programme. mell out cross and other areas school Activities.</p>
            </div>

            <!-- Activity Gallery -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 px-8 pb-8">
                <div class="image-container">
                    <img id="activityImage1" src="https://images.unsplash.com/photo-1427504494785-3a9ca7044f45?w=400&h=300&fit=crop" alt="Activity" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('activityImage1')">üì∑</button>
                </div>
                <div class="image-container">
                    <img id="activityImage2" src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=400&h=300&fit=crop" alt="Activity" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('activityImage2')">üì∑</button>
                </div>
                <div class="image-container">
                    <img id="activityImage3" src="https://images.unsplash.com/photo-1544717302-de2939b7ef71?w=400&h=300&fit=crop" alt="Activity" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('activityImage3')">üì∑</button>
                </div>
                <div class="image-container">
                    <img id="activityImage4" src="https://images.unsplash.com/photo-1509062522246-3755977927d7?w=400&h=300&fit=crop" alt="Activity" class="w-full h-48 object-cover rounded-lg">
                    <button class="edit-icon absolute top-2 right-2 p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg" onclick="editImage('activityImage4')">üì∑</button>
                </div>
            </div>

            <!-- Visual & Performing Arts -->
            <div class="image-container">
                <img id="artsImage" src="https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b?w=1200&h=500&fit=crop" alt="Visual & Performing Arts" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('artsImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">‚ñ∂</span>
                        </div>
                        <span id="artsLabel" class="text-2xl font-bold editable">VISUAL & PERFORMING ARTS</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transport Facilities -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="transportImage" src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=1200&h=500&fit=crop" alt="Transport" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('transportImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">üöå</span>
                        </div>
                        <span id="transportLabel" class="text-2xl font-bold editable">TRANSPORT FACILITIES</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="transportTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">Transport Facilities</h2>
                <p id="transportDesc" class="text-gray-700 leading-relaxed editable">Our school provides safe and reliable transport facilities covering major areas of the city. All buses are equipped with GPS tracking systems and are maintained to the highest safety standards. Trained drivers and attendants ensure the safety and comfort of students during their commute.</p>
            </div>
        </div>

        <!-- School Campus -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="image-container">
                <img id="campusImage" src="https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=1200&h=500&fit=crop" alt="School Campus" class="w-full h-96 object-cover">
                <button class="edit-icon absolute top-4 right-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-lg" onclick="editImage('campusImage')">üì∑ Change Image</button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6">
                    <div class="flex items-center gap-3 text-white">
                        <div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center">
                            <span class="text-2xl">‚ñ∂</span>
                        </div>
                        <span id="campusLabel" class="text-2xl font-bold editable">MODERN INFRASTRUCTURE</span>
                    </div>
                </div>
            </div>
            
            <div class="p-8">
                <h2 id="campusTitle" class="text-3xl font-bold text-gray-800 mb-4 editable">School Campus</h2>
                <p id="campusDesc" class="text-gray-700 leading-relaxed editable">The School is erected in a calm and ideal atmosphere, promising a better teaching-learning process. The School set-up is spread in vast 3 acres of greenery in the way. The School ambience has been set enviably with modern infrastructure, spacious classrooms, well-maintained gardens, and state-of-the-art facilities.</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div class="flex items-center gap-4">
                    <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center">
                        <span class="text-4xl">üè´</span>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-bold mb-4">KUYILAPPALAYAM SCHOOL</h3>
                    <p id="address" class="text-gray-300 text-sm mb-4 editable">Gopalankadai Road,,<br>Kysnthullipalayam,<br>Puducherry - 605 009</p>
                    <p id="email" class="text-gray-300 text-sm mb-2 editable"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7d2b140b18161c131c19151c1e111c0e0e3d1a101c1411531e1210">[email&#160;protected]</a></p>
                    <p id="phone" class="text-gray-300 text-sm editable">+91 0413 2295657 , +91 9944938761</p>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
                <p class="text-gray-400 text-sm">Copyright &copy;2026 KUYILAPPALAYAM SCHOOL | Developed by @&#x1F182;&#x1F181;&#x1F178;&#x1F181;&#x1F170;&#x1F17C;</p>
            </div>
        </div>
    </footer>

    <script>
        const ADMIN_PASSWORD = 'admin123';
        let isAdmin = false;

        // Secret keyword trigger - type "School" anywhere on the page
        let keyBuffer = '';
        const SECRET_KEYWORD = 'School';
        document.addEventListener('keypress', (e) => {
            if (['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) return;
            keyBuffer += e.key;
            if (keyBuffer.length > SECRET_KEYWORD.length) {
                keyBuffer = keyBuffer.slice(-SECRET_KEYWORD.length);
            }
            if (keyBuffer === SECRET_KEYWORD) {
                keyBuffer = '';
                document.getElementById('loginModal').classList.remove('hidden');
                document.getElementById('passwordInput').focus();
            }
        });

        // Modal controls (adminBtn is hidden, kept for internal use)
        document.getElementById('adminBtn').addEventListener('click', () => {
            document.getElementById('loginModal').classList.remove('hidden');
        });

        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('passwordInput').value = '';
            document.getElementById('errorMsg').classList.add('hidden');
        });

        // Login form
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const password = document.getElementById('passwordInput').value;
            
            if (password === ADMIN_PASSWORD) {
                isAdmin = true;
                document.getElementById('loginModal').classList.add('hidden');
                document.getElementById('adminBtn').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                enableEditMode();
                document.getElementById('passwordInput').value = '';
                showMessage('Welcome Admin! You can now edit content.', 'success');
            } else {
                document.getElementById('errorMsg').textContent = 'Incorrect password! Try again.';
                document.getElementById('errorMsg').classList.remove('hidden');
                document.getElementById('passwordInput').value = '';
            }
        });

        // Save button
        document.getElementById('saveBtn').addEventListener('click', () => {
            saveAllChanges();
            showMessage('All changes saved successfully! ‚úì', 'success');
        });

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', () => {
            if (confirm('Do you want to save changes before logging out?')) {
                saveAllChanges();
                showMessage('Changes saved! Logging out...', 'success');
                setTimeout(() => {
                    logout();
                }, 1500);
            } else {
                logout();
            }
        });

        function logout() {
            isAdmin = false;
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('adminBtn').classList.remove('hidden');
            disableEditMode();
            showMessage('Logged out successfully', 'info');
        }

        // Enable edit mode
        function enableEditMode() {
            document.body.classList.add('admin-mode');
            
            document.querySelectorAll('.editable').forEach(element => {
                element.classList.add('editable-hover');
                element.addEventListener('click', handleEditClick);
            });
        }

        // Disable edit mode
        function disableEditMode() {
            document.body.classList.remove('admin-mode');
            
            document.querySelectorAll('.editable').forEach(element => {
                element.classList.remove('editable-hover');
                element.removeEventListener('click', handleEditClick);
            });
        }

        // Handle edit click
        function handleEditClick(e) {
            if (!isAdmin) return;
            e.stopPropagation();
            editText(this);
        }

        // Edit text function
        function editText(element) {
            if (!isAdmin) return;
            
            const currentHTML = element.innerHTML;
            const currentText = element.textContent;
            const isMultiline = currentHTML.includes('<br>') || element.id.includes('Desc') || element.id === 'address';
            
            if (isMultiline) {
                const textarea = document.createElement('textarea');
                textarea.value = currentHTML.replace(/<br\s*\/?>/gi, '\n').replace(/<[^>]*>/g, '');
                textarea.className = 'w-full px-3 py-2 border-2 border-blue-500 rounded focus:outline-none';
                textarea.rows = 4;
                
                element.replaceWith(textarea);
                textarea.focus();
                
                const saveChanges = () => {
                    element.innerHTML = textarea.value.replace(/\n/g, '<br>');
                    textarea.replaceWith(element);
                    element.addEventListener('click', handleEditClick);
                };
                
                textarea.addEventListener('blur', saveChanges);
                
                textarea.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        element.innerHTML = currentHTML;
                        textarea.replaceWith(element);
                        element.addEventListener('click', handleEditClick);
                    }
                });
            } else {
                const input = document.createElement('input');
                input.type = 'text';
                input.value = currentText;
                input.className = 'w-full px-3 py-2 border-2 border-blue-500 rounded focus:outline-none';
                
                element.replaceWith(input);
                input.focus();
                input.select();
                
                const saveChanges = () => {
                    element.textContent = input.value;
                    input.replaceWith(element);
                    element.addEventListener('click', handleEditClick);
                };
                
                input.addEventListener('blur', saveChanges);
                
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        saveChanges();
                    } else if (e.key === 'Escape') {
                        element.textContent = currentText;
                        input.replaceWith(element);
                        element.addEventListener('click', handleEditClick);
                    }
                });
            }
        }

        
        // Edit image function - uploads to Cloudinary via backend
        function editImage(elementId) {
            if (!isAdmin) return;
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = async () => {
                const file = input.files[0];
                if (!file) return;
                showMessage('Uploading image...', 'info');
                const formData = new FormData();
                formData.append('image', file);
                formData.append('key', elementId);
                try {
                    const res = await fetch(`${API_URL}/api/upload`, { method: 'POST', body: formData });
                    const result = await res.json();
                    if (result.success) {
                        document.getElementById(elementId).src = result.imageUrl;
                        showMessage('‚úÖ Image uploaded permanently!', 'success');
                    } else {
                        showMessage('‚ùå Upload failed. Try again.', 'error');
                    }
                } catch (err) {
                    showMessage('‚ùå Cannot connect to server.', 'error');
                }
            };
            input.click();
        }


        // Show message
        function showMessage(text, type = 'success') {
            const msg = document.createElement('div');
            msg.textContent = text;
            let bgColor = 'bg-green-500';
            if (type === 'error') bgColor = 'bg-blue-500';
            if (type === 'info') bgColor = 'bg-blue-500';
            msg.className = `fixed bottom-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50`;
            document.body.appendChild(msg);
            
            setTimeout(() => {
                msg.remove();
            }, 3000);
        }

        
        // ‚úÖ Save all changes to MongoDB
        async function saveAllChanges() {
            const data = {};
            document.querySelectorAll('[id]').forEach(el => {
                if (el.tagName === 'IMG') data[el.id] = el.src;
                else if (el.id && !['loginModal','adminPanel','adminBtn','saveBtn','logoutBtn','errorMsg','passwordInput','loginForm','mobileMenu','menuToggle','hamburgerIcon'].includes(el.id)) {
                    const txt = el.innerHTML;
                    if (txt && txt.trim()) data[el.id] = txt;
                }
            });
            try {
                showMessage('Saving...', 'info');
                const res = await fetch(`${API_URL}/api/content/bulk`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ data })
                });
                const result = await res.json();
                if (result.success) {
                    showMessage('‚úÖ All changes saved permanently!', 'success');
                } else {
                    showMessage('‚ùå Save failed. Try again.', 'error');
                }
            } catch (err) {
                showMessage('‚ùå Cannot connect to server. Is it running?', 'error');
            }
        }


        
        // ‚úÖ Load saved changes from MongoDB
        async function loadSavedChanges() {
            try {
                const res = await fetch(`${API_URL}/api/content`);
                const data = await res.json();
                Object.keys(data).forEach(key => {
                    const el = document.getElementById(key);
                    if (el) {
                        if (el.tagName === 'IMG') el.src = data[key];
                        else el.innerHTML = data[key];
                    }
                });
            } catch (err) {
                console.log('Could not load from server, using defaults.');
            }
        }


        // Load saved changes on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadSavedChanges();
            // Apply shared header & footer AFTER local data loads (so shared always wins)
            (function() {
                try {
                    var h = localStorage.getItem('sharedHeaderData');
                    if (h) {
                        var hd = JSON.parse(h);
                        if (hd.schoolName) document.getElementById('schoolName').innerHTML = hd.schoolName;
                        if (hd.affiliation) document.getElementById('affiliation').innerHTML = hd.affiliation;
                    }
                } catch(e) {}
                try {
                    var f = localStorage.getItem('sharedFooterData');
                    if (f) {
                        var fd = JSON.parse(f);
                        var addr = document.getElementById('footerAddress') || document.getElementById('address');
                        var email = document.getElementById('footerEmail') || document.getElementById('email');
                        var phone = document.getElementById('footerPhone') || document.getElementById('phone');

                        if (addr && fd.address) addr.innerHTML = fd.address;
                        if (email && fd.email) email.innerHTML = fd.email;
                        if (phone && fd.phone) phone.innerHTML = fd.phone;
                    }
                } catch(e) {}
            })();
        });

    
        // Hamburger menu toggle
        function toggleMenu() {
            const menu = document.getElementById('mobileMenu');
            const bars = document.querySelectorAll('#hamburgerIcon span');
            const isOpen = !menu.classList.contains('hidden');
            if (isOpen) {
                menu.classList.add('hidden');
                bars[0].style.transform = '';
                bars[1].style.opacity = '';
                bars[2].style.transform = '';
            } else {
                menu.classList.remove('hidden');
                bars[0].style.transform = 'translateY(8px) rotate(45deg)';
                bars[1].style.opacity = '0';
                bars[2].style.transform = 'translateY(-8px) rotate(-45deg)';
            }
        }
</script>
</body>
</html>